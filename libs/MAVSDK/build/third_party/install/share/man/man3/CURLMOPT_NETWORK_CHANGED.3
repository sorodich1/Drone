.\" generated by cd2nroff 0.1 from CURLMOPT_NETWORK_CHANGED.md
.TH CURLMOPT_NETWORK_CHANGED 3 "2025-10-20" libcurl
.SH NAME
CURLMOPT_NETWORK_CHANGED \- signal network changed
.SH SYNOPSIS
.nf
#include <curl/curl.h>

CURLMcode curl_multi_setopt(CURLM *handle, CURLMOPT_NETWORK_CHANGED,
                            long value);
.fi
.SH DESCRIPTION
Pass a long with a bitmask to tell libcurl how the multi
handle should react. The following values in the mask are
defined. All bits not mentioned are reserved for future
extensions.

This option can be set at any time and repeatedly. Each call only
affects the \fIcurrently\fP cached connections and DNS information.
Any connection created or DNS information added afterwards is
cached the usual way again. Phrasing it another way: the option is
not persisted but setting it serves as a "trigger"
to clear the caches.

The call affects only the connection and DNS cache of the multi handle
itself and not the ones owned by SHARE handles.
.IP CURLMNWC_CLEAR_CONNS
No longer reuse any existing connection in the multi handle\(aqs
connection cache. This closes all connections that are not in use.
Ongoing transfers continue on the connections they operate on.
.IP CURLMNWC_CLEAR_DNS
Clear the multi handle\(aqs DNS cache.
.SH DEFAULT
0, which has no effect.
.SH PROTOCOLS
This functionality affects all supported protocols
.SH EXAMPLE
.nf
int main(void)
{
  CURLM *m = curl_multi_init();
  /* do transfers on the multi handle */
  /* do not reuse existing connections */
  curl_multi_setopt(m, CURLMOPT_NETWORK_CHANGED, CURLMNWC_CLEAR_CONNS);
}
.fi
.SH AVAILABILITY
Added in curl 8.16.0
.SH RETURN VALUE
\fIcurl_multi_setopt(3)\fP returns a CURLMcode indicating success or error.

CURLM_OK (0) means everything was OK, non\-zero means an error occurred, see
\fIlibcurl\-errors(3)\fP.
.SH SEE ALSO
.BR CURLOPT_FORBID_REUSE (3),
.BR CURLOPT_FRESH_CONNECT (3)
